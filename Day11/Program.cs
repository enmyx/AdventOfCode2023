using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Day11
{
    internal class Program
    {
        static void Main(string[] args)
        {
            var sinput = "...#......\r\n.......#..\r\n#.........\r\n..........\r\n......#...\r\n.#........\r\n.........#\r\n..........\r\n.......#..\r\n#...#.....";
            var input = "...............#..........................#....................................................................#............................\r\n....................................................................#................................#......................................\r\n.....#....................................................................................................#...........................#.....\r\n...................#......................................#...................................................................#.............\r\n...........#....................................#................#.........................#............................#...................\r\n#.................................#........................................#.........#.......................#.....#.....................#..\r\n..........................#............#.............................#......................................................................\r\n.....................#......................................................................................................................\r\n..............#..............................#......#.......................................................................#...............\r\n...#.............................................................................#...........#.......#...............#..............#.......\r\n..............................#..........#..................................................................................................\r\n...........................................................#...........#.......................................#.........#..................\r\n.........................#........................................#..........#..............................................................\r\n.........#...........................................................................#.....................#................................\r\n.................................#.............................................................................................#.......#....\r\n......................#.......................................................................#..................#..........................\r\n..............................................#.............................................................................................\r\n.................#..........#.........................#..............#....................................................#.................\r\n.............................................................#..........................#...................................................\r\n..........................................................................................................#..........................#......\r\n........................................#..........#....................#.....#.......................................#.....................\r\n...............#........................................#.................................................................................#.\r\n....................................................................................#.....#....................#............................\r\n.........#......................#....................................................................#.....................#................\r\n...............................................................................................#...................#........................\r\n....#........#............#......................................#..........#.............................#.................................\r\n...................................#.............#..........................................................................................\r\n.......................................................................#...............#...................................................#\r\n............................................#...............................................................................................\r\n........#.............................................#.......................#.............#...........#...................................\r\n#..................#...........#.............................#..............................................................................\r\n..................................................................#.................................................#.......................\r\n....................................................................................................................................#.......\r\n....#.................#......................#..............................................................#............#................#.\r\n....................................................#.....................................#.................................................\r\n..........................#.................................................#...................#............................#..............\r\n.........................................#.....................#.......#....................................................................\r\n.#...........#..................................................................#...........................................................\r\n..............................................#......................................................#..................#...................\r\n...................................#...................................................#....................#...............................\r\n...................#.........#..........................#...................................................................................\r\n........................................#..........#.................#......................#...............................................\r\n......................................................................................................................#.....................\r\n...........................................................#......................................#................................#......#.\r\n.#.......................#..................#.......................................#.......................................................\r\n..................#.............................................................................................#............#..............\r\n......#............................#................#......................#..........................#.................#...................\r\n............................................................................................................................................\r\n...............................#............................#...............................#...........................................#...\r\n.....................#...................#.............#...............................#.....................#..............................\r\n.........#....................................................................................................................#.............\r\n..................................................................................#..............#.....................#....................\r\n....................................................#...............#.....#......................................#................#.........\r\n..#.............................#...........................................................................................................\r\n............................................................................................................................#...............\r\n.........................................#.....#.............................#.........#...............#..................................#.\r\n.......#...................#................................................................................................................\r\n.............................................................#.............................................#................................\r\n................#..................................#................#.....................................................#........#........\r\n......................#............#................................................#.............#.....................................#...\r\n.#..........................................................................................................................................\r\n.......................................................#...................#............................#...................................\r\n..........#....................#...........#..........................................................................#.....................\r\n.................#..............................#...............................................................................#...........\r\n.........................#......................................................#.............#.............................................\r\n...................................#.................................#...................#.................#...............................#\r\n........#.................................................#.........................................................................#.......\r\n.......................................................................................................#....................................\r\n..#...................................................#.....................................................................................\r\n.............#.................................................................................................................#............\r\n......................#.........................................................#..................#..............#.........................\r\n.....#.........................#.....................................#.....#.............................#.............#....................\r\n..........................#............#.......#............................................................................................\r\n..........#.......#............................................#........................#..........................................#........\r\n........................................................................#...................................................................\r\n............................................................................................................................................\r\n.........................................#....................................#..............#.......................#......................\r\n...#................................................#.......................................................................#...............\r\n..............#.....................#..........#....................................#...................#...................................\r\n.............................#...................................................................#..........................................\r\n..........#............#........................................#.................................................#.........................\r\n...........................................#.....................................#..........................................................\r\n.#........................................................................................................#................#................\r\n..................................#....................................#.................#...........................................#.....#\r\n..................................................#................................................#........................................\r\n............................................................................................................................................\r\n...............#.............................................................................................................#..............\r\n..#...................#.................#.............#.......................#.........................#.......#.......................#...\r\n...........#..................#.................#............#.......#......................................................................\r\n............................................................................................................................................\r\n..........................................................................................#.........#.......................................\r\n.........................................................................................................................#..................\r\n......#.....................................................................................................................................\r\n..................................#.....#...............#..........#..............#.............................#...........................\r\n.........................#.............................................................#.............................#............#.........\r\n............................................#...............................................................................................\r\n..#........#............................................................#....................#.........#................................#...\r\n....................................#.......................#...............................................................#...............\r\n..................................................................................................................#.........................\r\n.......#.......................#........#..................................#................................................................\r\n.....................#.................................#.........#....................#.....................................................\r\n..................................................................................................#.............................#.....#.....\r\n...............#.............................#..............................................................................................\r\n.......................................................................#....................#.............#............#....................\r\n..........................#.....#......#..................................................................................................#.\r\n............................................................#.......................#.......................................................\r\n......................#...............................#...........................................................#.................#.......\r\n.................#........................#.................................................................................................\r\n....#..........................................#...................#.......#.............................#.................#................\r\n...............................................................................................#............................................\r\n.............................................................#...................#..........................................................\r\n...................................#....................................#.............................................#.....................\r\n..........................................................................................#..................................#..............\r\n........#..................................#.............#..........................#......................#................................\r\n.........................#....................................................................#.................#.........................#.\r\n..#..........................................................................#..............................................................\r\n...................................................#..........#....................................#........................................\r\n............#.........#.................................................................................................#.......#...........\r\n.......#.........................#..........#........................#......................................................................\r\n..........................#...............................#...............................#.................................................\r\n...#...........#.......................#............................................#................#.................................#....\r\n............................................................................................................................................\r\n.........................................................................#..................................................................\r\n....................................................#.............#...........................................#...........................#.\r\n.................#.................#.......#..........................................#.................#................#..................\r\n................................................................................#...............#...........................................\r\n...........................#.................................#................................................................#.............\r\n.....................#................#.................................#.........................................#.........................\r\n......#.....................................................................................................................................\r\n#.........................................................................................................................................#.\r\n............................................#..............................................#................................................\r\n.........#........#.......................................#.................................................................................\r\n...............................#...................................#....................................#...................................\r\n...#....................................#............#..................................................................#.............#.....\r\n..................................................................................#......#......#...........................................\r\n......................#........................................#............................................................................\r\n...............#...............................#............................#...............................................................\r\n.......#..................#.................................................................................................................\r\n......................................#............#........#...................#..........................................#................\r\n...#...............#..................................................#...........................#........#........#................#......";

            var lines = input.Replace("\r\n", "\n").Split('\n');

            var map = new List<string>();
            foreach (var line in lines)
            {
                if (line.All(l => l == '.'))
                    map.Add(line.Replace('.', '-'));
                else
                    map.Add(line);
            }

            int jump = 1_000_000;

            var galaxies = new List<(long x, long y)>();
            long x = 0;
            long y = 0;
            for (int i = 0; i < map[0].Length; i++, x++)
            {
                int galaxyCount = 0;

                y = 0;
                for (var j = 0; j < map.Count; j++, y++)
                {
                    if (map[j][i] == '#')
                    {
                        galaxyCount++;
                        galaxies.Add((x, y));
                    }
                    else if (map[j][i] == '-')
                    {
                        y += jump - 1;
                    }

                }

                if (galaxyCount == 0)
                    x += jump - 1;
            }

            long sum = 0;
            for (int i = 0; i < galaxies.Count - 1; i++)
                for (int j = i + 1; j < galaxies.Count; j++)
                    sum += Math.Abs(galaxies[i].x - galaxies[j].x) + Math.Abs(galaxies[i].y - galaxies[j].y);

            Console.WriteLine(sum);
        }
    }
}
