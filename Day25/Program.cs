using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Day25
{
    internal class Program
    {
        static readonly Random random = new Random();

        static void Main(string[] args)
        {
            var sinput = "jqt: rhn xhk nvd\r\nrsh: frs pzl lsr\r\nxhk: hfx\r\ncmg: qnr nvd lhk bvb\r\nrhn: xhk bvb hfx\r\nbvb: xhk hfx\r\npzl: lsr hfx nvd\r\nqnr: nvd\r\nntq: jqt hfx bvb xhk\r\nnvd: lhk\r\nlsr: lhk\r\nrzs: qnr cmg lsr rsh\r\nfrs: qnr lhk lsr";
            var input = "pzt: zfx qdv\r\ntzg: bqj\r\nfcj: znv sjk pqc zcr\r\njrm: qpf lrs xgm\r\ndxx: lrz xvc pcs\r\nzbt: vpp khl hnc\r\npjt: jbr\r\nqpf: trv gnl\r\njjd: pnj lfr sdv\r\nxrt: lkc qfj bmx rtt\r\nvvl: mkq\r\ncdn: kkz fdl hsr\r\nsgq: xqd\r\nhtv: qcb vgz jdz fqd llm\r\nmkp: kmj ktt dbg\r\ntxd: hrf bcf lpr\r\nscv: jmj jdf glc\r\nkpx: xmd jqh\r\nzhj: qbq sqr rqr tvg tjs cnz\r\nvtf: slb gxt mrg\r\nbkc: gmk rmk\r\njrj: xpg rsz qnp sln\r\nnbf: vcz tbn nfb\r\nxfz: jgh dkp mkc\r\nhsr: bqh vpp fkq\r\ndbc: hfb ksl fgs\r\nqls: pgg\r\nkvn: hfp\r\nfcr: vzx lfl jmj pmn spt sjl lgg\r\nkpq: jkj sjz dkc zhq\r\ndst: ftf thj smm ltr dkb pzt\r\nfgv: tzz prd hcq dkr\r\nqcr: vqs\r\nkhl: fdl fbd\r\ngsn: rlm\r\nxrm: dkc\r\nsqf: mzj tkj ntf\r\nfpt: tmn dmp bls\r\nkst: cqt pmr\r\nlbb: gnd jtz dpm cmq cgr\r\nsjz: rxv kcp xpf xck mpp ddr dcm\r\nscs: kkg gxz\r\nmdq: sdh ldj dsg\r\nppm: mjg kmd\r\nqbl: cmh vdz\r\nsvb: jqr jsx\r\nbfb: fml bln xkj\r\njnh: qbq vfd kqh\r\nfqz: ctq fqc zfb\r\nndl: xmk njr\r\nzzx: nnf qqh tgm kzh kmr\r\nsvm: rpb fpg pkc grk\r\ncrm: smm dlg gnl vgz vnp\r\nqkf: jtr cvv ghs khg ntd\r\nrll: cbx vgt zfb\r\nspt: znb\r\nckr: bfd xxq zkm\r\nnnd: kkz msm tdz gxk\r\npmc: xkf tnr pbq\r\npxf: tsp zcv\r\nfxh: rxl sxn zbb rmc\r\nmqs: mzj vkc\r\njkl: xrl vln zpf lvg\r\ntkx: zgz vpp knn mzc\r\nbml: qcm tcq lvz lqs\r\ncfn: pjd\r\npnj: pcc khl mbf bzp\r\nfsm: snd gmr mqf nrg\r\nftt: hnc qrr qfb smr\r\ndhr: dpc\r\nmns: gbd tqh\r\ncdr: xvj sxn kcq\r\ncfc: zbh\r\ntlt: qxd xxg xlq jnx\r\nkkx: ltv\r\njqq: pzv bkv jlk\r\nbrr: sqf mrn mkp hmc sjz\r\nqgg: srn lvp dsg\r\njnx: rpd scv\r\ncjc: xlh stk fdp\r\nktb: rjx qdh szh sfq\r\nzfb: jzq\r\nfdz: dfp rsz\r\nphl: djf gql\r\ndxg: gxk skv\r\nqcx: pfp kmx spt ghp\r\nhhd: qzv qqh\r\nxsm: gxt hkb xtk cbx\r\nlkn: fnl htd mjt kvm\r\nxpk: gtl pxx gmh\r\nkxz: gmz mmm hpk\r\nksq: jbr sdv hpt sfl\r\nmcx: mzg qcm mhc hgt\r\npdk: lvg xfc jkv nfj\r\nnhk: kmd zgh ckr\r\nnnt: qxc pnj bdp sqz\r\nqfq: npp vnr fsq kgh\r\nggq: xpg qlc nnx qjq\r\nnrm: rzv bln\r\nkrc: xsz znt\r\nllv: vkm xfq xbk xvk\r\ntgm: vjt fmc\r\nbxg: jlv lvz\r\nvld: xgt\r\nhpt: tzp dtm vgq lmj glv\r\nqvx: tnr czl snh jmb\r\nqtf: dsj vtn\r\nzdp: ffr cbq tcp\r\nlxx: qkp pzt plr\r\nsdc: spr zbh\r\nbkq: zfx knp\r\ndhn: xkj hjr rnh\r\njbx: nnm vgk\r\nkqk: xvx mhm ffv\r\nslb: lrt jcg rkb\r\nlvj: ffv ntl stz\r\nmpt: ztk\r\njdg: mzp fcf jxv pxp\r\nslr: jjd svr jcg\r\nmdj: qrk vck jzx fqb\r\nnqp: hkk szb\r\nmlh: fhq\r\nthc: pqm rsh\r\nnrt: nrm btg qhr mpc kst\r\nsmm: gnt\r\njpm: plr\r\nqsv: fhq pbl kqk fjx qbl\r\njlm: zdd czn bmr lcx\r\nsps: zgz jbr\r\ndtm: str\r\nvkh: btx\r\nhcp: fmc\r\npmf: lnq vxb qfj mqf\r\nxvk: svl jbr mzz\r\nftj: cnf dxp mjg hrz\r\njmn: ddr sxv mzb nzk lgz dhp\r\nbjc: xxg\r\nsnx: dbf pbm cjc xfz hlm gcn\r\npbm: kps bkr rsr\r\njjl: sfq drk rgv gcl\r\ndmt: ktp\r\nzzd: qnv\r\ntct: ftz glc dqc\r\nssq: jcb\r\ndfl: qvt zcp mtn kcr\r\nxsn: fdl gqd vqs\r\ngch: sbt brs sct cmq gln\r\ntpb: nfg rpb trg bhh\r\nbmr: zxq vgh mts\r\nhhr: bhd xhf jcb krx\r\nhls: mkq rjx rzj\r\nspq: msq cmh rgv ddv pfp\r\nvhn: hnq sls bnc fdv\r\nfkk: gpm rdx kxb ndd\r\nlkg: qpf xpp\r\nqgc: mjm mct gbr\r\nhhq: gjp tmh tcp sgz\r\nnlz: vkc jgb xmd fbh\r\nlrs: fpm\r\nghg: nzk kfs gqk\r\njqt: glv bfb fpl btk\r\nrdt: nkx pzg\r\nfbd: skn\r\ndpj: pjs\r\nvkm: xgt pxp gdv\r\nlvq: mds mdq lxk xtg\r\ndxl: grb hjc srj\r\njxr: sfl mbz nnc fbd\r\nqtk: pbq\r\nknp: tmd\r\nphb: vgk\r\nnsv: phl rnj szh cgr\r\nbnd: zdg xlj mjg\r\nfxd: xjk dbt fkq vnr\r\nvzh: nnm dfq htd jqg\r\nggx: ntz bkr fzq zjf\r\nrkb: tzp xmh glj\r\nsxv: rsr nzh\r\npkf: kcp hpk vsh\r\ngdz: bll fmc\r\nhjs: dhk\r\nqhg: gln\r\nmgq: bkc xnh xvj xkf rpd\r\nrsd: lsl znb hcq\r\nmgr: kvl\r\nlqb: nss fpl hkb gsn jzk\r\nnpq: grk ddk rsh vfq\r\ngcn: mrq mzb brs sfp\r\nrff: cvn\r\nfdx: xfq gjq\r\ntqm: pqm bgx\r\nntp: fbd scj cbq\r\npfg: ckb vkh vxb rtl\r\nxpg: jsg zdf\r\ndjf: szb zpk\r\nvft: hcq xkf\r\nldj: pqm\r\njbk: jdz nfq gmj hkk jsn\r\nrqj: qts kvj pdd cpn\r\ncrx: vpp\r\ndsv: zpk vxr bkn\r\nmhm: rpp mpg nzk kmr\r\nkcf: sfn\r\nnkx: jlp\r\nrvh: lrs zlp rgd rkj\r\nffq: ksk lzm bnm spn qqt\r\npxs: cfc kvj zrc xjn\r\njjv: rhp pkf lvb\r\nntz: mzj nsg\r\ndmx: zln pbl fdp mkc ppk\r\ndqb: pxg gcq sjk lnx blz\r\nbss: tdq jrk\r\nqjv: xtp kcj bmx vcq zcg\r\nbxj: vnl xfl\r\nntc: tng\r\nkhm: jcb qpd\r\nmzd: fzq dvp brh zxl\r\nrqm: gbq\r\nldb: tmg\r\ntsq: cfn frd xck rxl\r\nqpr: lnq lfd qfb\r\nckb: lxk nfb\r\nrlk: gxm pfr tbh gql\r\nkcb: ssh pcc\r\nlfc: ltm hdg xrf hrf\r\nxjm: kgr cbn vpf dlz dgh\r\npzv: qrs njj\r\nvpj: qbq\r\nvxf: lhk\r\nmjp: tch pzg zlb mts\r\njlt: vdz mtb\r\nblz: ftx\r\npkc: vrt pzr\r\nspn: rmn bff mdf\r\nrnk: fbd cqt\r\nckj: jkv djf cxq llm ndn\r\njmz: sjh cjg nlz jgh\r\nnzz: nzs pqm nrg zhl\r\nlvb: dpj mzf\r\njkj: zmz qls bqv\r\nbfc: dhk\r\nczq: klv ssh\r\nnpp: jqs pjt bhh gpm\r\njmj: lqs rsm sml\r\nvgx: nfc\r\nmfs: ffv\r\nscn: fhq\r\nsvg: jlv\r\njjc: tbb lzn\r\nrcs: vcf fnx gnz smr llk xsz dtm\r\npvk: gvx bpd mrc vck stm\r\ndzb: pdq dlt tcr hvd\r\ndpg: pdd\r\ncjx: xsz vtn fjb grv\r\njkf: nmc vlp pxj krp\r\nlmg: tvj jqh\r\nlxv: mrc xns gln\r\ndvn: rrn krc ndm\r\njhh: ztj lcc bkn\r\nntl: cvh\r\nrlj: vjj lnx pzg dfq\r\nmhj: lzm pgj lfp cbh\r\ntnr: qdt\r\nvjn: kkz zfb dtp sfn\r\njsn: xpf\r\nmdf: ckj xfc zmt\r\nhjr: gbq mbx\r\nrqn: stm xlq\r\ndpf: kvk\r\nsgs: rhp\r\nmtm: tdb fqd lgx blr\r\nklh: tzg\r\nrsm: qfd\r\nfqb: dpf tmd hfp gvx\r\nffv: kvk\r\nscf: rkt xns mcs nrf\r\nzzb: nft hcp nkh gxm\r\nlhs: klv dtp ffr shv\r\nxzx: fzt srn vxb ghs\r\nrjx: qkk djv\r\nlnm: vfp zhl gll czq\r\nsnh: tdb vzn nrf mxn\r\npzd: fhj bkh\r\nvhq: dsg ssn hdx zcr\r\nzrd: bll\r\nrxm: tcx kxb zgz\r\nhtm: grb sbk pcm\r\nmpg: dvp jsx\r\nvlm: ttd dpx lss\r\nvnl: ksl txn\r\nczg: hrz gks kfl\r\nmkc: kns\r\njjr: hkq cqm xqd tqj vbx\r\nfnl: qcl thc\r\ntgg: dxg nck fcn\r\nkgv: xgl ztk dfs\r\nlqs: bll\r\nxkl: hkk\r\nhmc: hkk\r\nztb: rmp rxv jzz\r\npzr: jdh qcd gsn svx\r\nzlg: gpm\r\njvd: bjc crn brh lrn\r\nxhh: bzp gbq\r\nzdk: crn gks sct lqh\r\nvbq: nzh fzq sxn jgs\r\ntxv: tkg qfk jlj bkr\r\ntzl: bcf\r\ncts: gjl vgk\r\ndcd: pkc gcp ndd rxm\r\nkhj: lvz qfd rkt kcp\r\nlxz: dkc qgj ztb\r\ncbq: dgh\r\nckl: mts shv\r\ngmh: rdr phb\r\ntmf: xzt gjl mzr\r\ncjr: fnl tsp ptq\r\nxhf: xpf btv\r\nqbf: tbh pcp\r\nhfp: xlj\r\nlgg: dbn ltv bnm\r\ngqd: zzd rdr\r\nrfm: hgf hjl vcz\r\nmcj: xkj hnh dhk\r\nxml: nkx\r\nxvf: czp\r\ndrz: dpg pxk jtl\r\nhld: jzl krp lrt\r\ngjf: cjc qxd pfm lgz\r\nctf: vkh\r\nmnh: fcm tsf qnv zbk tth\r\ngdg: cpn vjj vgk\r\nvtg: jsn mkp ddv tnr\r\nnft: ntq prb jjc lcc\r\nzqp: tkg jrm kmj\r\nszm: nfp vgh\r\nxmz: qbq tjp zvf\r\nmzp: bln dhn bvj xgl\r\ngvj: hjs xml\r\nnhx: pcl mrg\r\nxvc: pxk\r\nbmx: lhx htm khg xfl\r\njqd: drp zjf msq lfl\r\nllm: mzb\r\nlns: cfn srv mrn\r\nscq: zcf slb lmp mpc\r\ncnt: zkn hgk knp lvj\r\nkbb: ktt nvf ccd mrn\r\ngpr: kpx hgl jsx bll\r\ndfm: fbp dbg xzq mmm\r\nqdk: czl\r\nsmr: pcc\r\nhps: dng rfl\r\nlgv: jcg qcl fxk vfc\r\nnrf: hkk tmd\r\nlrt: blz\r\nsvr: sps xbk khg\r\ndlt: sjh xvf\r\nqvt: vrn dxp ffx\r\nfcf: gcp nnm ntp\r\njzk: xgt fqc mfs\r\nrnq: jsr vzx gqk ccr\r\nkmx: znb pgj lkg zdg vzx\r\nvxr: crn\r\nvxc: fgq\r\njfr: kvn qdk rpd glc\r\nvtd: qbh xxg qkp ntl\r\ngrv: zzd pjt sch\r\njrk: grk\r\nmbx: xqb bgx\r\nrpz: xqb lrz tqz nbf pqc\r\nxsz: pjx\r\nqbh: zrr kns ntz\r\njph: qkk\r\nxvx: mbj zbg pgj sln jnh\r\ncbd: zzd bgf cpn\r\nnfg: tzp jlp bsp\r\ngjp: lbs zlg hjp\r\nvqf: shv mpt jjf xtp btk xsn\r\nqrv: vjr dfq\r\nkxk: lvn vgn rff\r\nksk: xvf\r\nstz: mzf ffx\r\nkzx: kcf rnh bzc dfs ztk\r\ntng: qbf\r\nntm: zfb fdx qfb vhj\r\npcl: ngs tdq\r\nxjt: pxk lhx mts\r\nnvl: ckr khm gql vkc\r\nrqr: vhg vdz\r\nknn: btg pxx\r\nfpl: nhg nrg\r\ngjq: vrh\r\nmxc: hnq nfc\r\nmct: xrm\r\nkjk: cvv fkq dlz\r\nppk: ndn dxr jgs\r\nhkq: pjh\r\nrvc: dsg mgr pcl lmd\r\nrgl: xvf pgg gbd qlc qrk\r\nblr: rkj lpp tnr svf\r\nrcj: pjx fpt hfz rlj\r\nxlj: xgm\r\nhkb: klh gkd\r\nzcr: cfc qtf\r\nzvc: xqd ltv\r\nkvl: bgx\r\ndjv: bnc mff ztj\r\ntzs: dfp dsv jlj nzm sln\r\ndgn: hcj vtf kst rdr\r\nglc: tjp gqj\r\nxnk: mns rmk czp gvx\r\npcp: bjv\r\nsrn: gjp xtg hdg\r\nlxk: rnh\r\nvfd: tdb dpc\r\nngp: hgv gbq crx\r\nzsd: sdh bkz dgc\r\nlvk: nss grb mzn\r\nhgt: vsx\r\nxgl: bzp pkh\r\ndpt: mzg sxn xkl kps ppk\r\nflz: ncg hnn mrq xfc\r\nfgd: rph hfz dbc\r\nhbl: ghf jqq mfv gdg mpc\r\ngxh: crv nnd nhx\r\nvdn: kmd bjv\r\ncnc: rxq jfj svb\r\nksl: sfn\r\nmsm: pqm szm\r\nrdz: ckc cnc sxj lrs\r\nnnc: lbs jrk\r\nbvj: cvn xfl\r\nrsz: pcp\r\nmgs: nsx tsq vgz dsv\r\npxx: xmh\r\nlvp: mxl\r\nbtt: bhd dpc qlc\r\nddv: jgb rps\r\ndrp: xlq\r\nvln: gnd xxg\r\nrsj: jqt mpt hld vgt\r\nkzh: tgm jsn blx\r\nsdf: rff qrv htd fkf fhk dpg\r\nhgb: jvk tzv qmn vnz\r\nnvd: pzp tvj\r\nsjh: qzv\r\nsvl: sdv hjs\r\nkzz: hlx bzp gtl\r\nrps: zfx srv jvk\r\ntcp: kbg\r\nqrk: dkr bkq\r\nvfk: cbx ppt\r\nmxh: xsj ftx hrf\r\nlcc: pfm\r\nrmm: hss dxr mrq\r\nxck: rsm\r\nmvr: jbk xnh zhh pbq ffv\r\nxmh: bfc\r\nhtr: pxf chr gmm fgs bps rdr\r\ntkr: jnx bfd ntc xsd\r\nbdg: rpp gks qqm ctp\r\nrbg: klr zhh\r\npmq: bcv knp glc\r\njzl: nqf gsx qtr ctf vcd\r\nddk: kkg lcx lhj\r\ntjb: htm chr vgt xjg\r\nvcq: tdz zdd\r\nllk: jbx jtl tlb rmd\r\njqj: stk nfj vtb bjh kcr fkn bhc\r\ncbx: lnq\r\ntxt: rbg kcp\r\nvnz: tzv tbg\r\nbhc: cqv zrz\r\nvzf: vkm trg lpj dmp\r\nqcl: fjb\r\nzxq: ssh gjl sbj mbz\r\nkqh: zrz vbx\r\nvhp: gjp vbg fqz\r\nnrp: znv\r\nkjl: rjg krp mxl\r\nrcg: mtr nxf kvm npr\r\nrqx: kvb nmc\r\nntd: nbf cts\r\nbkz: zcv\r\nzgh: lqf bff nnn\r\nhgk: kns tcq qvl\r\nkqq: hnc vfp srn tmn tjb\r\nkgh: smr tbn pmr vfk\r\nchr: ngs kcb\r\nzxm: jqs ptq mxr\r\nlmp: hnh szc dqb xtk\r\nhrs: tmf fml\r\nmpc: cfc\r\nqkp: fbh\r\nffx: ksk\r\npnk: mct scn jbs slm\r\nfqm: sch knb nkx bzp\r\nblx: cvh hgl xkf\r\npmr: hjs pxj\r\ngnj: fqj zxl rqg\r\nngb: vds ljh qhr dfc\r\ncmq: gfx czl\r\nxfl: njr\r\nggj: jmj lsl ttz jtz\r\nlss: ttz\r\nktm: dng cqt fhc\r\nprx: zbh pjt\r\nhqj: czp jlv vtb vgc\r\nkgf: rsr\r\nvcz: hgv\r\ntgc: fkq ndl rjg\r\ncpf: nfc\r\nvtx: glj zdd fgs zxm lrb\r\nmtn: bjc djv gxm\r\nvrn: ssq\r\ncvg: cdp gln dkp\r\nhtk: qzv bcq jmb vqr pmn xkf\r\nlrk: cvv msr\r\nzcf: scs\r\nskp: gmj hcp gnt zjk rxl\r\nkrx: vxf jfj dgq vft\r\nxxg: cpf tdb\r\nvsh: rkt rxb\r\ntmh: qts tdn rnk xjk\r\nsnd: jjf gjq pzg pbc\r\nmxk: ztz ztj kqs\r\nqnh: gks scn hkq hgk\r\nqvl: xvj\r\ndql: txn cdn rph zdp\r\nknb: ctq\r\nvxk: tjp\r\nzbk: kzh ffv xqd lbp\r\nqvv: jbs ldr bcq vkf\r\ncqt: xjn xgt hvk\r\nhjp: mgd\r\nnzm: khq qgc hjb tsf\r\nmnx: ktt\r\nghs: ccj cqq\r\nqfk: nfj zrz\r\nvbg: khg pxg hnh\r\ncqv: fxb\r\nclp: ntd txd rkb kzk\r\nkjx: dhr qtk\r\nzcp: pzd dmt rbk\r\nrdd: qrs vgn lvn lcx mgd\r\nvnf: dlt qgc bcv\r\nfmt: zkn\r\nznb: jcb\r\nfdv: lmg fdz dbg skz ffd\r\nxdl: kss tnp ggh bqh pdh\r\nqgn: dlg jph rmc qbl\r\nndt: fjb vkh hgv\r\ngrb: nzs\r\nqtr: sfn ndl\r\nvrh: trg vds\r\nbnm: nsg gqk\r\nmqf: npr qrr\r\nxgx: dgh bxj nqv\r\ncxc: hrs vjs kpm\r\nnqv: dbj vgh nfp\r\npnm: hgk mqs mzb vlm bkc rgr\r\nvgt: hgf ldb\r\npcd: nzh fbh rgv kfs\r\nplr: mrc pzd tkj\r\nvrj: tcr dgx kvn\r\nfzt: sdc bqj\r\ngbh: zpf plz fdz zvf qkk\r\nvjt: rbk\r\nljh: tbg skv tmg hdg vcf\r\nbzz: fgs nrg rdt vjj\r\ndrq: cxc xgv tzl ksl\r\ndzx: lpr hfz tsr ssn knn\r\nxsj: srj mzc qnv\r\nxgv: nss jlk\r\nnnf: vmp czp\r\nbps: jxv ssh cbx\r\nxjk: sgj dtp ngm\r\nbkv: ddn qhr\r\nmzg: fmt\r\ncpk: hzn rrn bvj tdz\r\nvcf: rpb bzp\r\nvmf: lgk hhd bjv rqg hcp\r\nhrz: xrm\r\nmzc: fjb psb nfp\r\nsbj: mbz\r\nmts: dsj\r\nggh: msr ckl\r\nrxq: hls qkp xnk\r\nqtc: hnh zbn ckl hkb\r\ncxq: mnx prb\r\nlmv: nsx sxj hgt cdb nnn\r\nzhl: dsg\r\nfjx: mxk mzf gbh\r\nldp: zlx khd\r\njhb: fhc pcc\r\nhpp: rjx sml stk ccd\r\nfxb: kgx\r\nfvf: mfz vrt rkb hgf csb hrf\r\ndfp: bkq dxp\r\nxnl: fvb hdg lfr jtl\r\nrjg: bsp ffr\r\nfcm: zkn\r\nxzl: bjg pfr\r\npzp: sls rnq ftn mqs mzh\r\npjd: bff jqh\r\ngfb: fhr zkn ncg jmj\r\ngcf: rll jcc pxs\r\nnkh: vrn drp stk\r\nfrl: bkz fzv\r\nvfp: xkt bkv\r\nkmj: czl mpp\r\nlmq: czn sqz\r\nndj: njr btx hjl\r\nnjr: dfq fzv\r\nfnj: zvc tvf gks nnf xrm sxv\r\nxqb: qrr ctq\r\ncbh: cmh lcc qzz\r\npnv: bqh fcn xrf dbj\r\nmjm: fdp\r\nvcr: pzv bfc fqc ngp kvb\r\nqng: nds vld cbq kzz\r\ndng: sgx\r\nnjz: mzr czn kkz khd\r\nsfn: spr\r\ngzm: rgt qqf gtl\r\nbnc: qzz mzb\r\nxpp: xrl mhc qcb\r\ngkd: lmq\r\nsns: njk hrf fhc vnl\r\nccd: rxr\r\nhsp: xgm lpp rbg cxq\r\nqrb: tgm scn zmz bgc\r\nnvf: crn jbm qfk\r\ngkn: vlk ktp dpj\r\nvgk: gxz\r\njtg: svl kvl ptq npr\r\nhlx: sgj cjr xjm sdh\r\nhgn: dpg zlx cpn khg ppt\r\ndkb: fzq jhh\r\ngnd: vpj\r\nbcv: xhf ldr\r\nqqm: rxb klr mtb qqh\r\nzcg: fgs vqs ctf\r\nbmv: pjh mgx gmz gdp\r\nddz: rhn lns fhj qhg\r\nzlr: bdr\r\nfml: dtp\r\nmzj: llm\r\nvlp: pkh\r\nmgx: jqh rmc rmk\r\npmn: jlt\r\nlqh: lgz zpk\r\nzrc: pdg btx gtl\r\nqqt: ndz dkp\r\nnnx: kcp lfp hnq\r\nnqf: sdv tsr lrt\r\nrgz: tvj lxz zkm zrr tjp nzk\r\nzpk: tbg\r\nlbp: rnz\r\nbqh: zgz\r\ndlz: lrk\r\nvnp: fdp bjg gql\r\ngnt: qqj\r\nrqg: ttz\r\npbt: gxh vgq kvf jtl xrf\r\nrxd: pxg jbx tmn\r\ntqh: qzv fpm\r\njsr: zpr\r\nmzq: fqc csb scj mpt\r\nrjf: cbq svx sbk\r\ndvk: kjx mkq dpj\r\nfvb: msm\r\ndhl: xlf drz ddn xhh sjk\r\nbtk: jhb jlp\r\ncbk: hjr nmc kgv rdx thc jfb\r\ndlg: cdp\r\nkcx: jqj fpm bhc lxv\r\ntcg: svg\r\nqbt: dpf rqn jbh jqr\r\nzdx: ljn bgx rnh zxq\r\nsqk: zrh gsx lrk\r\njqs: pzg vzh\r\njdj: pxp kcj htz rqm dvn mtr\r\nqdv: jsr kxz cjg\r\npjs: slm vtb\r\nhlv: xml dfr zbh kkg\r\nvqm: vcd nrm pdd rlf xvp\r\nccj: glm htz\r\nzlb: zrh klh zlg kbg\r\nsrb: gnz hvg\r\nbgj: jqh jdz mlh\r\nkvj: vjs\r\nxcj: fqm gsn rnk qcr\r\nzzv: qcx mmm jzx hvs\r\nsmh: csr jsx kcq\r\nfhq: tkj\r\nktn: vvl jbs gqj vsh\r\nkbj: tqp crv rqx xhh\r\nstr: bdp sbk fcn vgn\r\nhpk: bnd\r\nmhx: nrm pfc rhs txd znv bjm\r\nklc: kfl kgx jpm prd\r\nxbv: rpp mxc vlk fxb\r\nmjt: gcp grv\r\nqfn: zlb hps vjr\r\nbcf: hfb csb\r\nlkv: rnh vfc pxs zcf\r\nxbq: ppm ltr rzj kmr\r\ndms: vxk dgq kmd\r\nhqf: nvd tcg jsr zmt vxk\r\nsdv: lnx\r\nlqn: ntz zzb czp\r\nrlf: zrh\r\nccs: xxq vpj zzb\r\njln: kvl srn dbj\r\ngxk: phb\r\njzx: lss tvj cjg prb\r\nmbj: qqj mrn\r\nxrl: lqs gql\r\nbrx: npp prx pcm knb\r\njtl: lfd\r\nqxm: zbb lzn zlp zjf hgt\r\nqkk: jjc tcr\r\nlpj: sbj jqg xjg\r\nsvc: qdh qvl sml zcp\r\nqfv: kxb zkp\r\ntjz: tbh gnl jdf\r\nkps: stm\r\ndbf: vlk khm bld\r\nxtp: vfk tlb\r\npkk: nft czp slm mjm\r\nvtq: gdz bpd dgq rxr brh\r\nqfb: dng dbj blz\r\nmzz: gmm pzg jgv\r\nvqn: rmd fgd hsg ktm\r\nhdx: qqf\r\nlxs: vgx dbn gbd\r\nntq: nzh nsg\r\nvtb: jmb sqr\r\ndrk: mpg gql fmt\r\nzvv: bcq dkc rmc zpf\r\ngdv: vxc rgt pzg\r\ngjl: psb\r\nlhx: fzv bgx\r\nsqr: cpf xxq\r\nqhr: pkh\r\npfp: dtk\r\nxsb: btx xql njj\r\njdf: cdp\r\nfgx: pjs gmz\r\nscx: bdr kjk zfb gmr htz\r\nrkv: szb\r\nrjq: lbs klh zkp bgf\r\nxkv: jtl rqx vld tnp\r\nrnp: hmc kcq dgx jbh\r\ndhp: gnf trv\r\nbzk: pxg pbc kbg njz xmk\r\nrkj: rpp ztz rbk\r\ntmn: xql xtk\r\nfrd: zrd\r\nqcb: rbg\r\nlcf: tqp tmg\r\nghp: qvl jsg jjc\r\nrpg: xsj tzb ldb bdr\r\nzpc: ckb fzt rhs spr rzv\r\nlvz: cmh\r\ndgc: mxl btg vjf\r\njbd: tlb lkv xpk mgd\r\ncsn: mbf\r\nvht: mzh lkg gqh\r\nrsr: lbp mns\r\nlgk: zrd\r\nzgt: mzh lgd svb vpj\r\npcs: fdx tcx sdc npr hjl\r\nvbk: zkm mlh pcd vvl plr nvf\r\njqg: ffj\r\njlg: qcm dhr nhk cvh\r\ntqz: jhb\r\ndfz: mlh dbg qgj frz\r\nptv: xgx tzl qpr jtl\r\nlfl: kfl ssq\r\npxp: cbl\r\nldr: rbk sln gmk\r\nrgd: mrq pjs gbr\r\nvkx: pdp tmg gvj grt\r\nhvk: mfs nss skv\r\nfvk: scs xjg\r\nktt: qfd\r\nvvv: xgt ftx msr vfc\r\nnfb: pxj\r\nndm: vjs\r\nlpp: jfj jgh\r\nrxv: sls kmd\r\nfbv: mkp nfc dtk gnx szb gkn bnd\r\nsjp: nds kcf khg bdr\r\nlgx: qdk qzz\r\nzlx: bxj tqz\r\nrtl: tqz lcf qfv fgq\r\nrrl: nzs tmg jcc\r\nmrg: qhr vds\r\nbld: vxf bkn fgx\r\nvfq: ffj\r\ngxm: lss\r\ntch: zbt kvb ggh mgd\r\nzzt: kcb pms jcg\r\ntqp: vpf crx\r\nvgf: cdr fcm jkv jpm\r\njlj: pfp\r\ngcl: cqm gnl rcn jlj pdq\r\nqnv: xgc\r\nmbd: vrf ppm bjc zkm\r\njgl: cpf dmt vkf\r\nvrs: hgv klv fvb ngm\r\nqvp: ngs dxg ngm cfc\r\nlpt: dql pxx lvk\r\nhzc: frl grv jjf gjp\r\ncdb: bjg\r\nsjl: kgf tct rsm\r\nfvj: clr bhh bnr xgc\r\nzbg: bpg tjs frd\r\nfsb: kgr vcq gxz\r\ndbt: ljn zbn vlp\r\nfnv: trv dkp\r\nrdx: jqg gxz dtm\r\nssn: vqs dfs\r\ncnf: qmn hpp kqs fqb ghg\r\nbct: xlj cvg pbq vht\r\ndbr: dpm sfp brh kmd\r\ndff: gbh hzp kqf jbs\r\nxsd: jbm qdt\r\nzcs: jlp lhj bdp ldp\r\nmfz: kgr sjk\r\ngfj: cvv phb\r\nljn: mzc gvj dfq hvg\r\nrmd: dgh dfs\r\nttd: fmc zmz mzh\r\nqdh: ztz chl pmc mzh\r\nbfd: ktp vxr\r\nnxf: vjs gvj rlf\r\ntdn: mbz rlf\r\nmvn: dtg ldb sdc\r\nhkn: khd ndj xkt mxl zrh sgz vfq\r\nvqr: sgs ccd pmn kvn\r\ntkg: mct\r\nshh: hgl szh zmz qlc\r\ndsh: qtc qfb ndm gcq\r\nfkn: vbx gvx\r\ncmz: zdp scq mvb fkf\r\nfqv: lbb cnt rkt fnv\r\nhgf: qcd\r\nthj: mpp nvd mxc\r\nxjn: ngm vtn\r\nzln: dkp rqr rhp\r\nbtg: xzt kvl\r\nrfl: kzk xvp pxk nfb bfc\r\nscm: jlk tzl vfc\r\ntvk: rcn lxx nvf mzj\r\ncqq: lpr kkz\r\ntcr: dkr\r\nsbk: kcf\r\nrnj: cqv zrr gql smm\r\nfkf: mzn clr\r\nkhq: zpk bgj sbt\r\ncrv: bls bqj mbx\r\nmml: lvg\r\nstp: kvj tnp lhs btk\r\nqdz: dpt dhp gdp dxp\r\nrmc: hmc\r\nrcn: gbd\r\nfcq: dmt zrd dtk lqn kqh\r\nxjg: hvg\r\nrzj: svg\r\nlkc: ldp pxf qqf\r\nmfx: hjs ctq skn\r\ngkv: vgx pjh bff\r\nrxl: vlk tnr\r\nhsg: fst gmr cvv\r\ndfr: qrs svr xfq lrt\r\njqr: hvd\r\nzkq: rqg gnd kgf bll\r\nxgc: lvn bcl\r\ncjg: gfx\r\nbrh: sgs\r\npgg: nqp sls\r\ndxr: rmb\r\ngmr: ffr\r\nxnh: hgl\r\nvmp: zpf jlt\r\ngmm: bcl\r\nvzn: xpf tvg cqv\r\nftf: dhr pvl zpr\r\ngck: hvd dgx bjc mhc\r\nfhk: cfc kvf\r\nrgv: sgq\r\npht: kfp gxk rjf\r\nhzp: dmt sfq btt\r\nsxf: phb qfn rfm lcf tqm fhn\r\nmsq: ctp tsf\r\nknc: hjp cbd rph\r\njrf: lvn gmh zkp\r\ncbl: fhc gsx pxk\r\nnbv: hrs mjt xkt rjg\r\npxl: gnj chl bmv\r\nvkc: gfx\r\nkgk: nrp qcd bss vxc tcn\r\njjf: rlm vcz\r\nndn: ssq\r\npms: ndl pjx gfj\r\nbtz: qcr tgc mds txn bdp mvb glm bzc\r\nxzq: mnx mjm fmt pfm\r\nlfr: lmq rrl\r\nndz: brs cdb fmc dvp tcq\r\nsxj: jbh fcm\r\nfqd: czp\r\npdh: drq bdr jxv gjl\r\nmnr: pqm fvk scm qtr btg\r\nztt: scs zcv\r\nzvf: hrz jsg\r\nzxl: tvf rsz hgl rkt\r\nbkh: tbb qfd qdt frd\r\ngqh: hpp mpp jzz\r\nshj: kgx sml ncg mnx\r\nqlc: hfp\r\nsbt: nkh\r\nrhn: czp\r\nnpb: klr frd fpm kkx\r\nzmx: vhj xgc ndd\r\npmt: bxg xsd dlg\r\nqxc: tsr mpt\r\nznt: bln rsh\r\nrgt: tzg\r\nxlf: kvf vxc bls\r\ntgx: gqd szc zbn qrs\r\nsch: sbk\r\npkl: nlz ntf kcp\r\ndfx: fxd jcg kgk lfd xml\r\nkxm: xck kkx rhn zdf cdb\r\nzhh: gqj\r\nhcq: ftz\r\nprd: zfx ltv mjg jsx\r\nlhj: kcf dfc\r\npdd: rdr\r\nzhq: nsg mtm vft\r\nvcd: fhk jcc\r\nrhc: mrn hls xkl rxr vhg\r\nvts: rkv gmz spt\r\nlmj: fml sqz tbn\r\nmff: lvg\r\ndls: zhl qqf lpr xsz\r\ntrs: pnj xhh kjl vkh\r\nrlm: rlf ffr\r\nbtv: hhd\r\njdz: xgh\r\ncnz: bgn qqh mtb\r\nsht: fvk nzs\r\nbjh: jdf ktt pcp\r\nktj: nfj jbh tbh mml\r\nzkp: nhg\r\nbgf: mfx vrh\r\nssf: ncg jkv jfj jqr\r\nsvf: xhf vjt tvg\r\nchc: grb hps sdh ngs\r\npvl: rpp\r\nbqv: kgf khm\r\nvlc: hvg vxb grk ftx hjc\r\nkkg: hfb\r\njfb: zbn xtg xmk\r\nhrf: gsx\r\ntsz: xsd qtk pfr pjh\r\njgv: gjl klv qrv pcl\r\nltr: tkg qbf fbh\r\nrhs: vjf tqm chc\r\nzdf: tkj\r\nbbm: kgf qnp jpm mff qnx\r\nddr: qqj\r\nmzf: lrr rxb\r\ngdp: npb xnh\r\nxmb: lbs qxc krc ndm jbd\r\nsrj: pkh\r\njsx: vrn\r\ngll: glm bzc\r\nmmm: nnn mzj kdl qnp\r\nstm: bjv\r\npxj: dsj\r\ncvn: vds rzv\r\nzbb: fbp mzg ghp\r\nqts: nfg jln\r\ntnp: lcx\r\njtz: jlt\r\ngzc: xpk qcr jrf rcj qgg\r\ndmp: bss jqg\r\ntdz: znt kzk\r\nghn: zcf vgn mpt\r\ntth: rkv mtb mxc tng\r\nqjd: cbh pvp tcg pjh jbm\r\nfzv: sgj\r\nglv: nnc bzc\r\nlff: ntq vmp nsg xmd\r\nnhf: frl sps czq xsm\r\ntqj: sbt hkq rcn\r\nqjq: rmp\r\ndfc: mgr ptq\r\nmzr: tdq sgz\r\ngsl: vfd tmd ssf dtk xmz\r\nzdd: glm\r\ntmv: xrf vhp cqq svx\r\nzjk: sct tct xfc\r\ngsb: tzp rqm sgx lvn\r\ntzv: svg lhk bcq chl rhp\r\nccr: xmd mml vlk\r\nvrf: qhg lgk lpz bhd\r\ntsr: xql\r\nzbn: hdx\r\nfxk: dlz sht hsr\r\nqnp: dgq\r\nmfq: mbf vtn hfz mxr\r\nrfx: sbj njj rjf slr zzt\r\nnds: hzn\r\njdh: bqj nzs tbn ztt\r\ncgr: mxn mpp\r\nvjf: zcf qtf\r\ntpk: xgm rbg frz gdz\r\nqmx: czp gnl lpz bpd\r\nxkj: ffj\r\nxlh: dxr lqh zrz\r\nzqk: njr sqz ldj ppt xsb\r\nlrb: jcc ndd mbf\r\nkcj: xql nmc\r\ndmh: npb kxm nqp lzn\r\nnlx: mpd fxb txt pmt\r\nxql: nhg\r\nfsq: cqt krp sfl\r\nkqf: jph hpp vrj lvj\r\nnpc: hfb gll zcg dgc\r\nscj: lnq\r\nvgq: sbj\r\nnnn: kqs dbn\r\nrmt: hnq ttd vts kvk\r\npqc: ldj zlr kxb mfs\r\ntcn: znt krp prx szc\r\npjf: jzq tgg svx psb\r\ngmj: mff dbn\r\nrct: qxd zdg cmh xxq\r\ndqc: vck gnt\r\nvgc: qls xvj bkr\r\nvnr: mrg bsp\r\nlsl: czp ddr\r\nffd: sdl mkc tjs\r\nfht: vrt sfn pxj rxd\r\ndtg: tlb gmm bkz\r\nvvn: ndt klq spr cts ccj\r\nkdl: vdn kfs sgq\r\ncbn: hzn kxb hdx\r\nxhc: drk czp mzf rxl\r\nsfp: bgn bqv\r\nckc: xxq kjx tjz qjq lvb qqt\r\njzq: pcm gkd\r\nxns: ttz xrm\r\ncvp: kjx tjs ggj ttt\r\nghf: vfc xvp rgt scm qfv\r\ntcx: kzk mfx\r\nqnx: nsg kcr zxl\r\nnmx: psb rff cbk pxk\r\ndkv: vgf szh mbj fbp\r\nmfv: vjr\r\njzz: hfp rsr\r\nkvb: pcm bhh\r\nqcm: kps\r\nlvn: zbh\r\nsgz: fdl\r\ngnx: zqp lzm ckc\r\nrrn: gfj vqs xfq\r\nhpn: vnz vxr tcg dhr xrm\r\nxcp: vsx pvl fkn jsg\r\ncrc: grk lhs vld dpg\r\nxbk: ngp\r\nvpf: jbr\r\nqfj: xkt\r\nmxn: gmk\r\nltm: tdn kjk qcl\r\nqtj: rsh nrp zmx\r\nclr: pht\r\nnfc: kcq\r\ntvf: rhp lgd\r\nvvq: grt xvc jxv jjf\r\nnjk: sht bxj ptq vgq\r\nxdz: ztj rgr zpr lqv\r\nmpq: qfj fjb lxk mvn vhp\r\ngxt: srb xvp tzg\r\ngnf: jvk vbx\r\nkcp: ktp\r\ngvd: gjq zlg mxl pxx txn\r\nvpm: zdf lrr rmb lmg\r\nztf: fst bcf qnv sdv ndd\r\nlrz: csn xmh dxl\r\nqmv: qqm brh qdk mcs kkx jrj\r\nnzh: mml\r\ntsp: njr\r\nfrz: fgx nrf\r\nfhj: gmk kgx\r\nlfp: kcr bgc xnk\r\ndpx: sls zdf bml\r\nkbp: zlr vlp zkp sjk\r\nbqk: znv vfq zcv rpb ctf\r\nplz: rsm cfn\r\npns: qzz rhn phl qdv mrc pxl cmq\r\nmvb: nmc htd\r\nlzm: btv zpf\r\nftn: lgd rbk\r\nqqs: dxx vnl lpt vfc\r\ntcq: qtk jsn\r\nnkq: knc vhq xgv fhn\r\npvp: tbb vdn zvc\r\nxzt: ddn nnm\r\ngrt: szc\r\npdp: fgq scj hjl jlk\r\nfhr: jgh ndn\r\nglm: jrk\r\nfqj: ztz jlv jgl\r\nrmp: drk gnf\r\nnjj: tsp hzn rqm\r\njms: tjs qqj vln fnv\r\nhlm: qjq txt dbr jph pvl vck\r\ntzz: ftz csr zpk\r\ndpc: cvh\r\nmsr: hjc xmk\r\nxzj: vxf lhk kpx srv tng\r\nsxd: kns bhd fnv\r\nksb: ntl bxg jjv zpr sbt\r\njtr: vrx szm tcp bcl\r\nkfp: dsj sch sfl zlr\r\nklr: dkr\r\nbpg: ksk jvk qls chl tkj\r\nhnn: ntc svg sgq lqv\r\npgj: bjg szb\r\nrfj: kvm zsd clr lkn\r\nfjb: pjx\r\nnps: bjm mfz njk srb\r\nvkf: vgz tqh tbb\r\nlpz: hss ndn\r\njlb: pkl vln rnz lgx\r\nzdg: jgs dgx\r\ngnz: lvp grt\r\ncsr: trv\r\nrtt: xrf ddn csb\r\nfst: ffj qtj\r\nqgj: sfq btv\r\nbts: nhg gxz nhx dxl\r\nfpg: scj ddn nrp\r\nqpd: rxr gmk kmr\r\njsf: fbp smh htv bpd\r\nmcs: lqf lhk\r\nhss: xkf jgs\r\ntlj: rmm jlg ccs xbq\r\nhbh: xsd mgx slm xlh\r\nbnr: krp bls pcl\r\nsct: hnq\r\nccp: zrr ffx scf vnf\r\nffr: fdl\r\ntrg: qrr\r\nvrt: bcl\r\nglj: bqk lvn\r\npgn: xjt skn kxk gcq xbk\r\nqkm: knb vjr glm\r\nrnz: mzb rxb\r\nttt: pfm hgl tvg cqm\r\nhjb: pdq gqk stz vjt\r\ngqj: mzb\r\nbgn: qhg\r\npbc: fvb rdt\r\nnxh: pzd xqd czg xzl\r\nfnx: shv gkd mgr\r\nrpd: jcb\r\nnsx: ctp rzj\r\nlqv: bxg dqc\r\njcg: ppt\r\nfvd: scn lgk prb blr\r\nzmt: xsd vxk\r\npdg: pxk mfv gkd xvc bsp\r\nsdl: qdt tvg jlj ntz\r\nkvm: trg\r\nrgr: kfl mxn\r\ntzb: qcl fcn pcc\r\nthb: dpf dkb dms\r\nvjj: vhj\r\nzxc: hhd sjh fhr rcn\r\nldv: ntc hpk pmq zxc lgz rxv\r\nlrn: vdz lhk pdq qqj\r\nkmm: vhp lnx gpm smr xtg\r\nbgc: sxd sgs\r\nnfq: fmt ffv qcb\r\nvrx: srj bgx\r\nvzj: skv hsr mfv czn\r\ndcm: srv xkl\r\nlfb: vvl mgx jbm plz\r\nmzn: qcd sqz\r\nmds: dhk fpl\r\nbbj: kfs tkr zjf thb\r\nqmn: fqd bct mkq cdp ftn\r\nkpm: pfc htz\r\nvzx: brs\r\npfc: vpp dqb hjp\r\nhvs: stk xlq zhh czl\r\nmrq: rkv\r\nvsx: fmc sjz\r\nbjm: mxh bzz qkm vgh zbn nck\r\nfth: rsd bjh csr dvp rqn\r\nlfd: gcq\r\nmxr: csb mzn vjs\r\nhcj: lvp nds gzm\r\nlrr: jlt lzn\r\nxgh: dcm lbp\r\nrmn: lxs xlq jtz kqs\r\nrmk: tsf\r\ndpm: jbh zhh\r\nmtr: zbn csn\r\nntf: bgn lrn\r\nthl: hjc gkd jxv sgx rfm\r\nhnc: hgv\r\nhjj: vnp sfq vhg xgh jrm\r\nfhn: vrx vpf\r\nskn: rzv\r\nkss: vgq fpg ghn xtk\r\ntdq: tmg\r\nhtz: fdx vfq lhx\r\nctp: vhg bll\r\nfgq: sgx sgj\r\ncbv: sjp ztt nds gcf\r\nkvf: xml\r\npfr: hvd zpr\r\nbsp: csn\r\nszh: ttz\r\nccc: dvk cqm dpf gck\r\nltv: gfx\r\nrph: scj ztk nck\r\nskz: xzl jqj vnp\r\nkhd: npr\r\nmpd: gkv pjd drp\r\nkgm: crx hpt fsb kvf fsq\r\ntbg: zrz\r\nrgq: mcj nfp kpm lcx\r\nlqf: vgx bjg\r\nzlp: kvk kpx lss\r\nnck: btx\r\ngcp: rgt jrk\r\npbl: ftz qxd\r\nklq: kbg sqk sjk vhj\r\ngbr: prd bkn\r\nlmd: kgr pnv trg\r\njgb: zkn jmb\r\nrmb: mhc lgd jbh";

            var lines = input.Replace("\r\n", "\n").Split('\n').ToList();

            var initialNodes = new HashSet<string>();
            var initialEdges = new List<(string, string)>();
            foreach (var line in lines)
            {
                var nodes = line.Split(':');
                var source = nodes[0];
                var targets = nodes[1].Trim().Split(' ');
                if (!initialNodes.Contains(source))
                    initialNodes.Add(source);
                foreach (var target in targets)
                {
                    initialEdges.Add((source, target));
                    if (!initialNodes.Contains(target))
                        initialNodes.Add(target);
                }
            }

            int min = int.MaxValue;
            int res = 0;
            while (min > 3)
            {
                var nodes = new HashSet<string>(initialNodes);
                var edges = new List<(string, string)>(initialEdges);

                while (nodes.Count > 2)
                {
                    var randomIndex = random.Next(0, edges.Count);
                    var randomEdge = edges[randomIndex];
                    edges.RemoveAt(randomIndex);
                    var firstVertex = randomEdge.Item1;
                    var secondVertex = randomEdge.Item2;

                    var newNode = firstVertex + " " + secondVertex;

                    foreach (var edge in edges.Where(e => (e.Item1 == firstVertex && e.Item2 != secondVertex)
                        || (e.Item1 == secondVertex && e.Item2 != firstVertex)).ToList())
                    {
                        int i = edges.IndexOf(edge);
                        edges.RemoveAt(i);
                        edges.Insert(i, (newNode, edge.Item2));
                    }

                    foreach (var edge in edges.Where(e => (e.Item2 == firstVertex && e.Item1 != secondVertex)
                        || (e.Item2 == secondVertex && e.Item1 != firstVertex)).ToList())
                    {
                        int i = edges.IndexOf(edge);
                        edges.RemoveAt(i);
                        edges.Insert(i, (edge.Item1, newNode));
                    }

                    edges.RemoveAll(e => (e.Item1 == firstVertex && e.Item2 == secondVertex)
                                      || (e.Item1 == secondVertex && e.Item2 == firstVertex));

                    nodes.Add(newNode);
                    nodes.Remove(firstVertex);
                    nodes.Remove(secondVertex);
                }

                int a = nodes.First().Split(' ').Length;
                int b = nodes.Last().Split(' ').Length;

                min = Math.Min(min, edges.Count);
                res = a * b;
                Console.WriteLine(edges.Count);
                Console.WriteLine(a);
                Console.WriteLine(b);
                Console.WriteLine(a * b);
                Console.WriteLine();
            }
            Console.WriteLine(res);
        }
    }
}
